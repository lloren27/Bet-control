webpackJsonp([1,4],{0:function(t,e,n){t.exports=n("x35b")},"5xMp":function(t,e){t.exports='<h1>\n  {{title}}\n</h1>\n\n<div *ngIf="!sessionService.user">\n  <app-login-form></app-login-form>\n</div>\n\n<div *ngIf="sessionService.user">\n  <h2>BIENVENIDO SR PATATA</h2>\n  <button (click)="sessionService.logout().subscribe()"> Logout </button>\n</div>\n'},E20h:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},HswZ:function(t,e,n){"use strict";var o=n("3j3K"),r=n("Fzro"),i=n("+pb+"),s=(n.n(i),n("6Yye")),a=(n.n(s),n("Gvdl")),c=(n.n(a),n("kZql"));n.d(e,"a",function(){return f});var u=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t){this.http=t,this.userEvent=new o.c,this.options={withCredentials:!0},this.isLoggedIn().subscribe()}return t.prototype.handleError=function(t){return a.Observable.throw(t.json().message)},t.prototype.handleUser=function(t){return this.user=t,this.userEvent.emit(this.user),this.user},t.prototype.signup=function(t){var e=this;return this.http.post(c.a.BASEURL+"/api/auth/signup",t,this.options).map(function(t){return t.json()}).map(function(t){return e.handleUser(t)}).catch(this.handleError)},t.prototype.login=function(t,e){var n=this;return this.http.post(c.a.BASEURL+"/api/auth/login",{username:t,password:e},this.options).map(function(t){return t.json()}).map(function(t){return n.handleUser(t)}).catch(this.handleError)},t.prototype.logout=function(){var t=this;return this.http.get(c.a.BASEURL+"/api/auth/logout",this.options).map(function(){return t.handleUser()}).catch(this.handleError)},t.prototype.isLoggedIn=function(){var t=this;return this.http.get(c.a.BASEURL+"/api/auth/loggedin",this.options).map(function(t){return t.json()}).map(function(e){return t.handleUser(e)}).catch(this.handleError)},t}();f=u([n.i(o.d)(),p("design:paramtypes",["function"==typeof(l=void 0!==r.b&&r.b)&&l||Object])],f);var l},IMzY:function(t,e,n){"use strict";var o=n("3j3K"),r=n("HswZ");n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){this.sessionService=t}return t.prototype.ngOnInit=function(){},t.prototype.login=function(){console.log(this.username,this.password),this.sessionService.login(this.username,this.password).subscribe()},t.prototype.signup=function(){var t={username:this.username,password:this.password};console.log(t),this.sessionService.signup(t).subscribe()},t}();a=i([n.i(o._5)({selector:"app-login-form",template:n("qSPs"),styles:[n("E20h")]}),s("design:paramtypes",["function"==typeof(c=void 0!==r.a&&r.a)&&c||Object])],a);var c},Iksp:function(t,e,n){"use strict";var o=n("Qbdm"),r=n("3j3K"),i=n("NVOs"),s=n("Fzro"),a=n("YWx4"),c=n("HswZ"),u=n("IMzY");n.d(e,"a",function(){return f});var p=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},f=function(){function t(){}return t}();f=p([n.i(r.b)({declarations:[a.a,u.a],imports:[o.a,i.a,s.a],providers:[c.a],bootstrap:[a.a]})],f)},MOVZ:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="MOVZ"},YWx4:function(t,e,n){"use strict";var o=n("3j3K"),r=n("HswZ");n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){var e=this;this.sessionService=t,this.title="app works!",this.sessionService.userEvent.subscribe(function(t){console.log("USER EVENT"),e.title=t?"HOLA "+t.username:"PLIZ LOGIARSE!"})}return t}();a=i([n.i(o._5)({selector:"app-root",template:n("5xMp"),styles:[n("okgc")]}),s("design:paramtypes",["function"==typeof(c=void 0!==r.a&&r.a)&&c||Object])],a);var c},kZql:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={production:!0,BASEURL:""}},okgc:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},qSPs:function(t,e){t.exports='<h1> Authentication Sample </h1>\n<form>\n  <h2> Login or Signup </h2>\n  <label> Username </label>\n  <input type="text" [(ngModel)]="username" name="username"/>\n  <br>\n  <label> Password </label>\n  <input type="password" [(ngModel)]="password" name="password"/>\n\n  <div style="padding-top:30px">\n    <button (click)="login()"> login </button>\n    <button (click)="signup()"> signup </button>\n  </div>\n</form>\n<p class="error"> {{ error }} </p>\n'},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("3j3K"),r=n("O61y"),i=n("Iksp");n("kZql").a.production&&n.i(o.a)(),n.i(r.a)().bootstrapModule(i.a)}},[0]);